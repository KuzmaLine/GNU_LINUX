<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TESTS FOR STACK BUFFER: /home/kuzmaline/GNU_LINUX/12_InstallPackaging/tests.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TESTS FOR STACK BUFFER
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">/home/kuzmaline/GNU_LINUX/12_InstallPackaging/tests.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Test suite for the dynamic buffer operations.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;setjmp.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;getopt.h&gt;</code><br />
<code>#include &lt;libintl.h&gt;</code><br />
<code>#include &lt;libgen.h&gt;</code><br />
<code>#include &lt;locale.h&gt;</code><br />
<code>#include &quot;<a class="el" href="buf_8h_source.html">buf.h</a>&quot;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tests.c:</div>
<div class="dyncontent">
<div class="center"><img src="tests_8c__incl.png" border="0" usemap="#a_2home_2kuzmaline_2GNU__LINUX_212__InstallPackaging_2tests_8c" alt=""/></div>
<map name="a_2home_2kuzmaline_2GNU__LINUX_212__InstallPackaging_2tests_8c" id="a_2home_2kuzmaline_2GNU__LINUX_212__InstallPackaging_2tests_8c">
<area shape="rect" title="Test suite for the dynamic buffer operations." alt="" coords="426,5,627,61"/>
<area shape="rect" title=" " alt="" coords="5,109,72,136"/>
<area shape="rect" title=" " alt="" coords="97,109,167,136"/>
<area shape="rect" title=" " alt="" coords="191,109,270,136"/>
<area shape="rect" title=" " alt="" coords="294,109,365,136"/>
<area shape="rect" title=" " alt="" coords="389,109,464,136"/>
<area shape="rect" title=" " alt="" coords="489,109,565,136"/>
<area shape="rect" title=" " alt="" coords="589,109,659,136"/>
<area shape="rect" title=" " alt="" coords="684,109,759,136"/>
<area shape="rect" title=" " alt="" coords="783,109,857,136"/>
<area shape="rect" href="buf_8h.html" title="Provides functions for managing growable memory buffers in C99." alt="" coords="881,109,935,136"/>
<area shape="rect" title=" " alt="" coords="960,109,1051,136"/>
<area shape="rect" title=" " alt="" coords="821,184,896,211"/>
<area shape="rect" title=" " alt="" coords="921,184,991,211"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab92bb4161a6308b302d283816975c3a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tests_8c.html#ab92bb4161a6308b302d283816975c3a6">_</a>(STRING)&#160;&#160;&#160;gettext(STRING)</td></tr>
<tr class="separator:ab92bb4161a6308b302d283816975c3a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88e2b56f5b156491cb02f82473e89e6f"><td class="memItemLeft" align="right" valign="top"><a id="a88e2b56f5b156491cb02f82473e89e6f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tests_8c.html#a88e2b56f5b156491cb02f82473e89e6f">BUF_ABORT</a>&#160;&#160;&#160;test_abort()</td></tr>
<tr class="memdesc:a88e2b56f5b156491cb02f82473e89e6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Override of BUF_ABORT to call test_abort(). <br /></td></tr>
<tr class="separator:a88e2b56f5b156491cb02f82473e89e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e74e4ff52d80009272f8fcadd0048b8"><td class="memItemLeft" align="right" valign="top"><a id="a4e74e4ff52d80009272f8fcadd0048b8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tests_8c.html#a4e74e4ff52d80009272f8fcadd0048b8">C_RED</a>(s)&#160;&#160;&#160;&quot;\033[31;1m&quot; s &quot;\033[0m&quot;</td></tr>
<tr class="memdesc:a4e74e4ff52d80009272f8fcadd0048b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define color macros based on platform. <br /></td></tr>
<tr class="separator:a4e74e4ff52d80009272f8fcadd0048b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad588e4339978c8f52d37c16783467291"><td class="memItemLeft" align="right" valign="top"><a id="ad588e4339978c8f52d37c16783467291"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>C_GREEN</b>(s)&#160;&#160;&#160;&quot;\033[32;1m&quot; s &quot;\033[0m&quot;</td></tr>
<tr class="separator:ad588e4339978c8f52d37c16783467291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7635865072e17689a2e4aa26f65f8d9d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tests_8c.html#a7635865072e17689a2e4aa26f65f8d9d">TEST</a>(s,  x)</td></tr>
<tr class="memdesc:a7635865072e17689a2e4aa26f65f8d9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro for testing conditions.  <a href="tests_8c.html#a7635865072e17689a2e4aa26f65f8d9d">More...</a><br /></td></tr>
<tr class="separator:a7635865072e17689a2e4aa26f65f8d9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a84786dab5f630d5a481bbda26a596fea"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tests_8c.html#a84786dab5f630d5a481bbda26a596fea">uepoch</a> (void)</td></tr>
<tr class="memdesc:a84786dab5f630d5a481bbda26a596fea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current time in microseconds on Unix-based systems.  <a href="tests_8c.html#a84786dab5f630d5a481bbda26a596fea">More...</a><br /></td></tr>
<tr class="separator:a84786dab5f630d5a481bbda26a596fea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tests_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a3c04138a5bfe5d72780bb7e82a18e627"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function to execute the tests.  <a href="tests_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">More...</a><br /></td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Test suite for the dynamic buffer operations. </p>
<p>This file contains a test suite for the buffer functions defined in "buf.h". The tests validate various operations like initialization, push, pop, growth, truncation, and error handling for memory allocation failures. Additionally, the file includes a benchmarking functionality to assess the performance of the buffer operations.</p>
<h1><a class="anchor" id="test_macros"></a>
Macros:</h1>
<ul>
<li><code><a class="el" href="tests_8c.html#a7635865072e17689a2e4aa26f65f8d9d" title="Macro for testing conditions.">TEST(s, x)</a></code> : Runs a test for the condition <code>x</code>, printing "PASS" or "FAIL" with the test name <code>s</code>.</li>
</ul>
<h1><a class="anchor" id="platform_specific"></a>
Platform-specific code:</h1>
<ul>
<li>On Windows, colors are not used for output, while on other platforms ANSI escape codes are used.</li>
</ul>
<h1><a class="anchor" id="test_command_conditional"></a>
Compilation flags</h1>
<ul>
<li><code>TEST_COMMAND</code> is used to control which test to execute. The value of <code>TEST_COMMAND</code> determines which specific test is compiled and run.</li>
</ul>
<p>The tests are designed to run as part of the command-line application or as specific unit tests when the macro <code>TEST_COMMAND</code> is set to the corresponding test number.</p>
<dl class="section note"><dt>Note</dt><dd>This test suite is volatile due to the use of setjmp() and longjmp() for error handling in case of memory allocation failures. </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ab92bb4161a6308b302d283816975c3a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab92bb4161a6308b302d283816975c3a6">&#9670;&nbsp;</a></span>_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">STRING</td><td>)</td>
          <td>&#160;&#160;&#160;gettext(STRING)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Macro for translation using gettext </p>

</div>
</div>
<a id="a7635865072e17689a2e4aa26f65f8d9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7635865072e17689a2e4aa26f65f8d9d">&#9670;&nbsp;</a></span>TEST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { \</div>
<div class="line">        if (x) { \</div>
<div class="line">            printf(<span class="stringliteral">&quot;\033[31;1m %s %s\n \033[0m&quot;</span>, <a class="code" href="tests_8c.html#ab92bb4161a6308b302d283816975c3a6">_</a>(<span class="stringliteral">&quot;PASS&quot;</span>), s); \</div>
<div class="line">            count_pass++; \</div>
<div class="line">        } <span class="keywordflow">else</span> { \</div>
<div class="line">            printf(<span class="stringliteral">&quot;\033[31;1m %s %s\n \033[0m&quot;</span>, <a class="code" href="tests_8c.html#ab92bb4161a6308b302d283816975c3a6">_</a>(<span class="stringliteral">&quot;FAIL&quot;</span>), s); \</div>
<div class="line">            count_fail++; \</div>
<div class="line">        } \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="atests_8c_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="tests_8c.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> tests.c:68</div></div>
</div><!-- fragment -->
<p>Macro for testing conditions. </p>
<p>This macro prints the result of a test. If the test passes, it prints "PASS" in green, and if it fails, it prints "FAIL" in red. The test result is based on the condition <code>x</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The name of the test. </td></tr>
    <tr><td class="paramname">x</td><td>The condition to test. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function to execute the tests. </p>
<p>This function runs the tests based on the <code>TEST_COMMAND</code> macro. Depending on the value of <code>TEST_COMMAND</code>, different buffer operations (e.g., push, pop, grow, truncation) are tested. It also includes a benchmark section that runs a performance test of the buffer operations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>The number of command-line arguments. </td></tr>
    <tr><td class="paramname">argv</td><td>The command-line arguments. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An integer indicating success (0) or failure (non-zero). </dd></dl>
<p>&lt; Number of passed tests.</p>
<p>&lt; Number of failed tests.</p>
<p>&lt; Flag for tracking if tests are running.</p>

</div>
</div>
<a id="a84786dab5f630d5a481bbda26a596fea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84786dab5f630d5a481bbda26a596fea">&#9670;&nbsp;</a></span>uepoch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t uepoch </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current time in microseconds on Unix-based systems. </p>
<p>This function retrieves the system's current time in microseconds since the Unix epoch.</p>
<dl class="section return"><dt>Returns</dt><dd>The current time in microseconds. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
