<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TESTS FOR STACK BUFFER: /home/kuzmaline/GNU_LINUX/12_InstallPackaging/buf.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TESTS FOR STACK BUFFER
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">/home/kuzmaline/GNU_LINUX/12_InstallPackaging/buf.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides functions for managing growable memory buffers in C99.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for buf.h:</div>
<div class="dyncontent">
<div class="center"><img src="buf_8h__incl.png" border="0" usemap="#a_2home_2kuzmaline_2GNU__LINUX_212__InstallPackaging_2buf_8h" alt=""/></div>
<map name="a_2home_2kuzmaline_2GNU__LINUX_212__InstallPackaging_2buf_8h" id="a_2home_2kuzmaline_2GNU__LINUX_212__InstallPackaging_2buf_8h">
<area shape="rect" title="Provides functions for managing growable memory buffers in C99." alt="" coords="5,5,243,47"/>
<area shape="rect" title=" " alt="" coords="39,95,113,121"/>
<area shape="rect" title=" " alt="" coords="138,95,209,121"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="buf_8h__dep__incl.png" border="0" usemap="#a_2home_2kuzmaline_2GNU__LINUX_212__InstallPackaging_2buf_8hdep" alt=""/></div>
<map name="a_2home_2kuzmaline_2GNU__LINUX_212__InstallPackaging_2buf_8hdep" id="a_2home_2kuzmaline_2GNU__LINUX_212__InstallPackaging_2buf_8hdep">
<area shape="rect" title="Provides functions for managing growable memory buffers in C99." alt="" coords="5,5,243,47"/>
<area shape="rect" href="tests_8c.html" title="Test suite for the dynamic buffer operations." alt="" coords="23,95,225,151"/>
</map>
</div>
</div>
<p><a href="buf_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbuf.html">buf</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a dynamically allocated buffer structure.  <a href="structbuf.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7c6f2f32aef0eaf45a5eac5529323365"><td class="memItemLeft" align="right" valign="top"><a id="a7c6f2f32aef0eaf45a5eac5529323365"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf_8h.html#a7c6f2f32aef0eaf45a5eac5529323365">BUF_INIT_CAPACITY</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:a7c6f2f32aef0eaf45a5eac5529323365"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial capacity of a buffer. <br /></td></tr>
<tr class="separator:a7c6f2f32aef0eaf45a5eac5529323365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88e2b56f5b156491cb02f82473e89e6f"><td class="memItemLeft" align="right" valign="top"><a id="a88e2b56f5b156491cb02f82473e89e6f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf_8h.html#a88e2b56f5b156491cb02f82473e89e6f">BUF_ABORT</a>&#160;&#160;&#160;abort()</td></tr>
<tr class="memdesc:a88e2b56f5b156491cb02f82473e89e6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort the program on buffer allocation error. <br /></td></tr>
<tr class="separator:a88e2b56f5b156491cb02f82473e89e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5ea4565891b0fcbb70126fd26e7861"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf_8h.html#a2e5ea4565891b0fcbb70126fd26e7861">buf_ptr</a>(v)&#160;&#160;&#160;    ((struct <a class="el" href="structbuf.html">buf</a> *)((char *)(v) - offsetof(struct <a class="el" href="structbuf.html">buf</a>, buffer)))</td></tr>
<tr class="memdesc:a2e5ea4565891b0fcbb70126fd26e7861"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a buffer pointer to a struct buf pointer.  <a href="buf_8h.html#a2e5ea4565891b0fcbb70126fd26e7861">More...</a><br /></td></tr>
<tr class="separator:a2e5ea4565891b0fcbb70126fd26e7861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6014925c9d42373e83adf1ce996509d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf_8h.html#ac6014925c9d42373e83adf1ce996509d">buf_free</a>(v)</td></tr>
<tr class="memdesc:ac6014925c9d42373e83adf1ce996509d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the dynamically allocated buffer.  <a href="buf_8h.html#ac6014925c9d42373e83adf1ce996509d">More...</a><br /></td></tr>
<tr class="separator:ac6014925c9d42373e83adf1ce996509d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55cea011de3cc8150c695ceff1c85a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf_8h.html#ad55cea011de3cc8150c695ceff1c85a9">buf_size</a>(v)&#160;&#160;&#160;    ((v) ? <a class="el" href="buf_8h.html#a2e5ea4565891b0fcbb70126fd26e7861">buf_ptr</a>((v))-&gt;size : 0)</td></tr>
<tr class="memdesc:ad55cea011de3cc8150c695ceff1c85a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of elements in the buffer.  <a href="buf_8h.html#ad55cea011de3cc8150c695ceff1c85a9">More...</a><br /></td></tr>
<tr class="separator:ad55cea011de3cc8150c695ceff1c85a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e9969eb3467f9c4e512ce2df984f591"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf_8h.html#a4e9969eb3467f9c4e512ce2df984f591">buf_capacity</a>(v)&#160;&#160;&#160;    ((v) ? <a class="el" href="buf_8h.html#a2e5ea4565891b0fcbb70126fd26e7861">buf_ptr</a>((v))-&gt;capacity : 0)</td></tr>
<tr class="memdesc:a4e9969eb3467f9c4e512ce2df984f591"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total capacity of the buffer.  <a href="buf_8h.html#a4e9969eb3467f9c4e512ce2df984f591">More...</a><br /></td></tr>
<tr class="separator:a4e9969eb3467f9c4e512ce2df984f591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad31b6c023dbcb95a1205f2cdc9d17f74"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf_8h.html#ad31b6c023dbcb95a1205f2cdc9d17f74">buf_push</a>(v,  e)</td></tr>
<tr class="memdesc:ad31b6c023dbcb95a1205f2cdc9d17f74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends an element to the buffer.  <a href="buf_8h.html#ad31b6c023dbcb95a1205f2cdc9d17f74">More...</a><br /></td></tr>
<tr class="separator:ad31b6c023dbcb95a1205f2cdc9d17f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc0e5e17c69626e0362c550d2b71cab5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf_8h.html#abc0e5e17c69626e0362c550d2b71cab5">buf_pop</a>(v)&#160;&#160;&#160;    ((v)[--<a class="el" href="buf_8h.html#a2e5ea4565891b0fcbb70126fd26e7861">buf_ptr</a>(v)-&gt;size])</td></tr>
<tr class="memdesc:abc0e5e17c69626e0362c550d2b71cab5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes and returns the last element from the buffer.  <a href="buf_8h.html#abc0e5e17c69626e0362c550d2b71cab5">More...</a><br /></td></tr>
<tr class="separator:abc0e5e17c69626e0362c550d2b71cab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a089df65401b0e7323e22dd2e20b91552"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf_8h.html#a089df65401b0e7323e22dd2e20b91552">buf_grow</a>(v,  n)&#160;&#160;&#160;    ((v) = buf_grow1((v), sizeof(*(v)), n))</td></tr>
<tr class="memdesc:a089df65401b0e7323e22dd2e20b91552"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increases the buffer's capacity.  <a href="buf_8h.html#a089df65401b0e7323e22dd2e20b91552">More...</a><br /></td></tr>
<tr class="separator:a089df65401b0e7323e22dd2e20b91552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8050d7335ba903f7365bd0f809eefd7b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf_8h.html#a8050d7335ba903f7365bd0f809eefd7b">buf_trunc</a>(v,  n)&#160;&#160;&#160;    ((v) = buf_grow1((v), sizeof(*(v)), n - <a class="el" href="buf_8h.html#a4e9969eb3467f9c4e512ce2df984f591">buf_capacity</a>(v)))</td></tr>
<tr class="memdesc:a8050d7335ba903f7365bd0f809eefd7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Truncates the buffer to a specified capacity.  <a href="buf_8h.html#a8050d7335ba903f7365bd0f809eefd7b">More...</a><br /></td></tr>
<tr class="separator:a8050d7335ba903f7365bd0f809eefd7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62d8f3e51b96f7e3742ca87c1ae856a8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf_8h.html#a62d8f3e51b96f7e3742ca87c1ae856a8">buf_clear</a>(v)&#160;&#160;&#160;    ((v) ? (<a class="el" href="buf_8h.html#a2e5ea4565891b0fcbb70126fd26e7861">buf_ptr</a>((v))-&gt;size = 0) : 0)</td></tr>
<tr class="memdesc:a62d8f3e51b96f7e3742ca87c1ae856a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the buffer, setting its size to 0.  <a href="buf_8h.html#a62d8f3e51b96f7e3742ca87c1ae856a8">More...</a><br /></td></tr>
<tr class="separator:a62d8f3e51b96f7e3742ca87c1ae856a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides functions for managing growable memory buffers in C99. </p>
<p>This file contains a set of functions to manage dynamic, growable memory buffers. The functions allow for adding and removing elements, growing and truncating buffers, and freeing memory. These functions work by manipulating the buffer pointer, so any previously obtained pointers may be invalidated after certain operations.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="buf_8h.html#ad31b6c023dbcb95a1205f2cdc9d17f74" title="Appends an element to the buffer.">buf_push()</a>, <a class="el" href="buf_8h.html#a089df65401b0e7323e22dd2e20b91552" title="Increases the buffer&#39;s capacity.">buf_grow()</a>, <a class="el" href="buf_8h.html#a8050d7335ba903f7365bd0f809eefd7b" title="Truncates the buffer to a specified capacity.">buf_trunc()</a>, and <a class="el" href="buf_8h.html#ac6014925c9d42373e83adf1ce996509d" title="Frees the dynamically allocated buffer.">buf_free()</a> may change the buffer pointer, and any previously-taken pointers should be considered invalidated.</dd></dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keywordtype">float</span> *values = 0;</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; 25; i++)</div>
<div class="line">    <a class="code" href="buf_8h.html#ad31b6c023dbcb95a1205f2cdc9d17f74">buf_push</a>(values, rand() / (<span class="keywordtype">float</span>)RAND_MAX);</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="buf_8h.html#ad55cea011de3cc8150c695ceff1c85a9">buf_size</a>(values); i++)</div>
<div class="line">    printf(<span class="stringliteral">&quot;values[%zu] = %f\n&quot;</span>, i, values[i]);</div>
<div class="line"><a class="code" href="buf_8h.html#ac6014925c9d42373e83adf1ce996509d">buf_free</a>(values);</div>
<div class="ttc" id="abuf_8h_html_ac6014925c9d42373e83adf1ce996509d"><div class="ttname"><a href="buf_8h.html#ac6014925c9d42373e83adf1ce996509d">buf_free</a></div><div class="ttdeci">#define buf_free(v)</div><div class="ttdoc">Frees the dynamically allocated buffer.</div><div class="ttdef"><b>Definition:</b> buf.h:80</div></div>
<div class="ttc" id="abuf_8h_html_ad31b6c023dbcb95a1205f2cdc9d17f74"><div class="ttname"><a href="buf_8h.html#ad31b6c023dbcb95a1205f2cdc9d17f74">buf_push</a></div><div class="ttdeci">#define buf_push(v, e)</div><div class="ttdoc">Appends an element to the buffer.</div><div class="ttdef"><b>Definition:</b> buf.h:119</div></div>
<div class="ttc" id="abuf_8h_html_ad55cea011de3cc8150c695ceff1c85a9"><div class="ttname"><a href="buf_8h.html#ad55cea011de3cc8150c695ceff1c85a9">buf_size</a></div><div class="ttdeci">#define buf_size(v)</div><div class="ttdoc">Returns the number of elements in the buffer.</div><div class="ttdef"><b>Definition:</b> buf.h:96</div></div>
</div><!-- fragment --><h1><a class="anchor" id="functions"></a>
Functions:</h1>
<ul>
<li><code><a class="el" href="buf_8h.html#ad55cea011de3cc8150c695ceff1c85a9" title="Returns the number of elements in the buffer.">buf_size(v)</a></code> : Returns the number of elements in the buffer.</li>
<li><code><a class="el" href="buf_8h.html#a4e9969eb3467f9c4e512ce2df984f591" title="Returns the total capacity of the buffer.">buf_capacity(v)</a></code> : Returns the total capacity of the buffer.</li>
<li><code><a class="el" href="buf_8h.html#ac6014925c9d42373e83adf1ce996509d" title="Frees the dynamically allocated buffer.">buf_free(v)</a></code> : Destroys and frees the buffer.</li>
<li><code><a class="el" href="buf_8h.html#ad31b6c023dbcb95a1205f2cdc9d17f74" title="Appends an element to the buffer.">buf_push(v, e)</a></code> : Appends an element to the end of the buffer.</li>
<li><code><a class="el" href="buf_8h.html#abc0e5e17c69626e0362c550d2b71cab5" title="Removes and returns the last element from the buffer.">buf_pop(v)</a></code> : Removes and returns an element from the end of the buffer.</li>
<li><code><a class="el" href="buf_8h.html#a089df65401b0e7323e22dd2e20b91552" title="Increases the buffer&#39;s capacity.">buf_grow(v, n)</a></code> : Increases the buffer capacity by <code>n</code> elements.</li>
<li><code><a class="el" href="buf_8h.html#a8050d7335ba903f7365bd0f809eefd7b" title="Truncates the buffer to a specified capacity.">buf_trunc(v, n)</a></code> : Sets the buffer capacity to exactly <code>n</code> elements.</li>
<li><code><a class="el" href="buf_8h.html#a62d8f3e51b96f7e3742ca87c1ae856a8" title="Clears the buffer, setting its size to 0.">buf_clear(v, n)</a></code> : Sets the buffer size to 0 (for push/pop operations). </li>
</ul>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a4e9969eb3467f9c4e512ce2df984f591"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e9969eb3467f9c4e512ce2df984f591">&#9670;&nbsp;</a></span>buf_capacity</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf_capacity</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v</td><td>)</td>
          <td>&#160;&#160;&#160;    ((v) ? <a class="el" href="buf_8h.html#a2e5ea4565891b0fcbb70126fd26e7861">buf_ptr</a>((v))-&gt;capacity : 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total capacity of the buffer. </p>
<p>This macro returns the total capacity of the buffer, or 0 if the buffer is NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The buffer pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The capacity of the buffer. </dd></dl>

</div>
</div>
<a id="a62d8f3e51b96f7e3742ca87c1ae856a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62d8f3e51b96f7e3742ca87c1ae856a8">&#9670;&nbsp;</a></span>buf_clear</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf_clear</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v</td><td>)</td>
          <td>&#160;&#160;&#160;    ((v) ? (<a class="el" href="buf_8h.html#a2e5ea4565891b0fcbb70126fd26e7861">buf_ptr</a>((v))-&gt;size = 0) : 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the buffer, setting its size to 0. </p>
<p>This macro sets the size of the buffer to 0, effectively clearing it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The buffer pointer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac6014925c9d42373e83adf1ce996509d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6014925c9d42373e83adf1ce996509d">&#9670;&nbsp;</a></span>buf_free</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf_free</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { \</div>
<div class="line">        if (v) { \</div>
<div class="line">            free(<a class="code" href="buf_8h.html#a2e5ea4565891b0fcbb70126fd26e7861">buf_ptr</a>((v))); \</div>
<div class="line">            (v) = 0; \</div>
<div class="line">        } \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="abuf_8h_html_a2e5ea4565891b0fcbb70126fd26e7861"><div class="ttname"><a href="buf_8h.html#a2e5ea4565891b0fcbb70126fd26e7861">buf_ptr</a></div><div class="ttdeci">#define buf_ptr(v)</div><div class="ttdoc">Converts a buffer pointer to a struct buf pointer.</div><div class="ttdef"><b>Definition:</b> buf.h:69</div></div>
</div><!-- fragment -->
<p>Frees the dynamically allocated buffer. </p>
<p>This macro frees the memory allocated for the buffer and invalidates the pointer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The buffer pointer to be freed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a089df65401b0e7323e22dd2e20b91552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a089df65401b0e7323e22dd2e20b91552">&#9670;&nbsp;</a></span>buf_grow</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf_grow</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;    ((v) = buf_grow1((v), sizeof(*(v)), n))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increases the buffer's capacity. </p>
<p>This macro grows the buffer by <code>n</code> elements. It is equivalent to calling <code>buf_grow1()</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The buffer pointer. </td></tr>
    <tr><td class="paramname">n</td><td>The number of elements to add to the buffer's capacity. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abc0e5e17c69626e0362c550d2b71cab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc0e5e17c69626e0362c550d2b71cab5">&#9670;&nbsp;</a></span>buf_pop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf_pop</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v</td><td>)</td>
          <td>&#160;&#160;&#160;    ((v)[--<a class="el" href="buf_8h.html#a2e5ea4565891b0fcbb70126fd26e7861">buf_ptr</a>(v)-&gt;size])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes and returns the last element from the buffer. </p>
<p>This macro removes and returns the last element of the buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The buffer pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The last element of the buffer. </dd></dl>

</div>
</div>
<a id="a2e5ea4565891b0fcbb70126fd26e7861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e5ea4565891b0fcbb70126fd26e7861">&#9670;&nbsp;</a></span>buf_ptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf_ptr</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v</td><td>)</td>
          <td>&#160;&#160;&#160;    ((struct <a class="el" href="structbuf.html">buf</a> *)((char *)(v) - offsetof(struct <a class="el" href="structbuf.html">buf</a>, buffer)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a buffer pointer to a struct buf pointer. </p>
<p>This macro calculates the address of the <code>struct buf</code> structure from the given buffer pointer. It is used internally by other macros to manage buffer operations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The buffer pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the buffer structure. </dd></dl>

</div>
</div>
<a id="ad31b6c023dbcb95a1205f2cdc9d17f74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad31b6c023dbcb95a1205f2cdc9d17f74">&#9670;&nbsp;</a></span>buf_push</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf_push</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">e&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { \</div>
<div class="line">        if (<a class="code" href="buf_8h.html#a4e9969eb3467f9c4e512ce2df984f591">buf_capacity</a>((v)) == <a class="code" href="buf_8h.html#ad55cea011de3cc8150c695ceff1c85a9">buf_size</a>((v))) { \</div>
<div class="line">            (v) = buf_grow1(v, <span class="keyword">sizeof</span>(*(v)), \</div>
<div class="line">                            !<a class="code" href="buf_8h.html#a4e9969eb3467f9c4e512ce2df984f591">buf_capacity</a>((v)) ? \</div>
<div class="line">                              BUF_INIT_CAPACITY : \</div>
<div class="line">                              buf_capacity((v))); \</div>
<div class="line">        } \</div>
<div class="line">        (v)[<a class="code" href="buf_8h.html#a2e5ea4565891b0fcbb70126fd26e7861">buf_ptr</a>((v))-&gt;size++] = (e); \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="abuf_8h_html_a4e9969eb3467f9c4e512ce2df984f591"><div class="ttname"><a href="buf_8h.html#a4e9969eb3467f9c4e512ce2df984f591">buf_capacity</a></div><div class="ttdeci">#define buf_capacity(v)</div><div class="ttdoc">Returns the total capacity of the buffer.</div><div class="ttdef"><b>Definition:</b> buf.h:107</div></div>
</div><!-- fragment -->
<p>Appends an element to the buffer. </p>
<p>This macro appends the element <code>e</code> to the buffer. If the buffer is full, it will be grown to accommodate the new element.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The buffer pointer. </td></tr>
    <tr><td class="paramname">e</td><td>The element to append to the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad55cea011de3cc8150c695ceff1c85a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad55cea011de3cc8150c695ceff1c85a9">&#9670;&nbsp;</a></span>buf_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf_size</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v</td><td>)</td>
          <td>&#160;&#160;&#160;    ((v) ? <a class="el" href="buf_8h.html#a2e5ea4565891b0fcbb70126fd26e7861">buf_ptr</a>((v))-&gt;size : 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of elements in the buffer. </p>
<p>This macro returns the current size of the buffer, or 0 if the buffer is NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The buffer pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of elements in the buffer. </dd></dl>

</div>
</div>
<a id="a8050d7335ba903f7365bd0f809eefd7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8050d7335ba903f7365bd0f809eefd7b">&#9670;&nbsp;</a></span>buf_trunc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define buf_trunc</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;    ((v) = buf_grow1((v), sizeof(*(v)), n - <a class="el" href="buf_8h.html#a4e9969eb3467f9c4e512ce2df984f591">buf_capacity</a>(v)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Truncates the buffer to a specified capacity. </p>
<p>This macro sets the buffer's capacity to exactly <code>n</code> elements.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The buffer pointer. </td></tr>
    <tr><td class="paramname">n</td><td>The new capacity of the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
